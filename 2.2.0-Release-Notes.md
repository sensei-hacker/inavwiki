**Hello and welcome to INAV 2.2.0 Release!**

Please carefully read all of this document for the best possible experience and safety.

Get in touch with other pilots, share experiences, suggestions and ask for help on:

<table>
  <tbody>
    <tr>
      <td><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Telegram_logo.svg/1024px-Telegram_logo.svg.png" width="48"></td>
      <td><a href="https://t.me/INAVFlight">INAV Official on Telegram</a></td>
    </tr>
    <tr>
      <td><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/cd/Facebook_logo_%28square%29.png/600px-Facebook_logo_%28square%29.png" width="48"></td>
      <td><a href="https://www.facebook.com/groups/INAVOfficial">INAV Official on Facebook</a></td>
    </tr>
  </tbody>
</table>

Support developers for free by checking out from the following stores after having clicked on the following links:

<table>
  <tbody>
    <tr>
      <td><img src="https://lh3.googleusercontent.com/TiHXyUiZ2COk7OmceBgo1qeRN2APAjWL5qUydGc-U3LqkJb3n13EhYEJ8Dpz_IACNHU" width="55"></td>
      <td><a href="https://inavflight.com/shop/u/bg">Support us on Banggood</a></td>
    </tr>
  </tbody>
</table>

Tested and suggested hardware can be found [here](https://github.com/iNavFlight/inav/wiki/Welcome-to-INAV,-useful-links-and-products) 

## Important Notes

1.

## Upgrading from 2.1.0

1. 
## New targets:

* 



## CLI:

### New

| Setting | Description |
| ----    | ------ |
| `acc_lpf_type ` | Specifies the type of the software LPF of the acc signals. BIQUAD gives better filtering and more delay, PT1 less filtering and less delay, so use only on clean builds. |
| `nav_mc_pos_deceleration_time` | Used for stoping distance calculation. Stop position is computed as _speed_ * _nav_mc_pos_deceleration_time_ from the place where sticks are released. Braking mode overrides this setting |
| `nav_mc_pos_expo` | Expo for PosHold control |
| `use_dterm_fir_filter`||

### Removed

| Setting | Description |
| ----    | ------ |
| `placeholder` | |

## STM32F7 optimizations

INAV 2.2 offers a huge performance boost for all F7 based flight controllers (STM32F745 and STM32F722). Thanks to using both fast _Instruction_ and _Data_ memory (**ITCM** and **DTCM**), INAV on F7 boards is as fast as on F4 boards. Special thanks to @diehertz for helping and original work for Betaflight. With performance fixes, INAV 2.2 is now capable of running 8kHz PID loop. 

> It is still not advised to use 8kHz when any I2C devices are connected to flight controller (**BOTH F4 and F7**). This specially applies to **Magnetometer** and **Barometer**. Because I2C bus driver is synchronous and the process or reading data for MAG or BARO takes longer than time available between PID loop cycles, jitter will appear. 

If **I2C** magnetometer or barometer are to be used, switch to 4kHz mode!

## Main changes

### PLACEHOLDER
* PLACEHOLDER ([@fiam] [@giacomo892], [#2450] [#3522])

## All changes:

* New mixer inputs for stabilized axises  ([@DzikuVx] , [#4148])
* STM32F7 Optimizations  ([@DzikuVx] , [#4263], [#4483])
* LTM Improvements ([@stronnag] ,[#4423])
* Temperature Sensing Improvements ([@shellixyz] ,[#4416])
* Optimizing CMS to save FLASH ([@fiam] ,[#4380])
* Enforcing Board Allignment Limits  ([@fiam] ,[#4420])
* Logic conditions framework ([@DzikuVx] , [#4144], [#4561], [#4555], [#4551])
* MSP on VPC Fixes  ([@digitalentity] ,[#4468])
* PT1 Filter option for Acc/Gyro ([@giacomo892] ,[#4454],[#4676])
* Use imperial units for altitude for UK ([@shellixyz] ,[#4445])
* Convert NAV POS/VEL PID to PIDFF ([@DzikuVx] , [#4326], [#4624])
* PH Settings aren't anymore inside PID conf. but have dedicated settings ([@DzikuVx] , [#4484])
* Fixed Wing FF PIDFF setting now is no more "D" in the configurator ([@DzikuVx] , [#4482])
* Make Dterm FIR filter configurable ([@DzikuVx] , [#4475])

[@digitalentity]: https://github.com/digitalentity
[@DzikuVx]: https://github.com/DzikuVx
[@eephyne]: https://github.com/eephyne
[@fiam]: https://github.com/fiam
[@giacomo892]: https://github.com/giacomo892
[@hali9]: https://github.com/hali9
[@nmaggioni]: https://github.com/nmaggioni
[@nyway]: https://github.com/nyway
[@shellixyz]: https://github.com/shellixyz
[@stronnag]: https://github.com/stronnag
[@mluessi]: https://github.com/mluessi
[@Garogat]: https://github.com/Garogat
[@teckel12]: https://github.com/teckel12
[@bnn1044]: https://github.com/bnn1044
[@krzysztofmatula]: https://github.com/krzysztofmatula
[@danarrib]: https://github.com/danarrib
[@marbalon]: https://github.com/marbalon

[#4148]: https://github.com/iNavFlight/inav/pull/4180
[#4263]: https://github.com/iNavFlight/inav/pull/4263
[#4483]: https://github.com/iNavFlight/inav/pull/4483
[#4423]: https://github.com/iNavFlight/inav/pull/4423
[#4416]: https://github.com/iNavFlight/inav/pull/4416
[#4380]: https://github.com/iNavFlight/inav/pull/4380
[#4420]: https://github.com/iNavFlight/inav/pull/4420
[#4144]: https://github.com/iNavFlight/inav/pull/4144
[#4561]: https://github.com/iNavFlight/inav/pull/4561
[#4555]: https://github.com/iNavFlight/inav/pull/4555
[#4551]: https://github.com/iNavFlight/inav/pull/4551
[#4468]: https://github.com/iNavFlight/inav/pull/4468
[#4454]: https://github.com/iNavFlight/inav/pull/4454
[#4676]: https://github.com/iNavFlight/inav/pull/4676
[#4445]: https://github.com/iNavFlight/inav/pull/4445
[#4326]: https://github.com/iNavFlight/inav/pull/4326
[#4624]: https://github.com/iNavFlight/inav/pull/4624
[#4484]: https://github.com/iNavFlight/inav/pull/4484
[#4482]: https://github.com/iNavFlight/inav/pull/4482
[#4475]: https://github.com/iNavFlight/inav/pull/4475