![INAV 7 Ferocious Falcon](https://quadmeup.com/assets/inav_7_falcon.png)

# Hello and welcome to INAV 7 "Ferocious Falcon"

Please carefully read all of this document for the best possible experience and safety.

Contact other pilots, share experiences, suggestions and ask for help on:

<table>
  <body>
<tr>
<td><img width="48" src="https://discord.com/assets/f9bb9c4af2b9c32a2c5ee0014661546d.png"></td>
<td><a href="https://discord.gg/peg2hhbYwN" target="_blank">INAV Discord Server</a></td>
</tr>
    <tr>
      <td><img src="https://upload.wikimedia.org/wikipedia/commons/c/cd/Facebook_logo_%28square%29.png" width="48"></td>
      <td><a href="https://www.facebook.com/groups/INAVOfficial">INAV Official on Facebook</a></td>
    </tr>
  </tbody>
</table>

# Important Notes

> The GPS NMEA protocol is no longer supported. All pilots are required to switch to UBLOX protocol. All modern GPS modules (even as old as from 2015 and earlier) support UBLOX protocol and there is not a single good reason to stick to NMEA nowadays

> The FrSky D-series telemetry support has been removed. This applies to legacy D4R receivers and some 3rd party whoop boards

# Upgrading from a previous release

## Upgrading from INAV 6 and 6.1

1. Download and install the new [INAV Configurator 7](https://github.com/iNavFlight/inav-configurator/releases)
1. Save to a file the current _diff all_ from the CLI.
1. Upgrade to INAV 7 using the **Full Erase** option in the configurator.
1. In case of Analog FPV, upload your OSD font of choice from the OSD tab.
1. Go to the CLI again and paste the above-described contents from the file you previously created and write _save_ , press ENTER.
1. There are many new, changed, and removed settings. Check carefully that the settings are correct and fix any unrecognized or out-of-range items from the saved configuration.
1. You should be ready, explore new 7.0 features, and enjoy!

## Upgrading from older versions

Please follow the instructions on [this](https://github.com/iNavFlight/inav/wiki/Upgrading-from-an-older-version-of-INAV-to-the-current-version) page.

# Major changes

## Flexible motor and servo output allocation

INAV now was a function that allows to flexibly assign functions to PWM outputs directly from INAV Configurator.
Specific function `AUTO`, `MOTORS` or `SERVOS` can be assigned to each Timer Group. Then, all outputs from this group will perform this function.
Thanks to this, it's possible to use servos and motors in ways that previously required building a custom targets.

![INAV output assignment](https://quadmeup.com/assets/inav/inav_output_assignment.png)

Bear in mind:
* In some rare cases, output assignment might be different than in INAV 6. **This make is even more important to remove your props and double check your outputs before you power you flight controller with batteries for the first time after applying your old settings or enabling outputs.**
* It is not possible to assign function to individual outputs. It's a hardware, not software limitation.

## Mixer profiles and VTOL support

Read more in [INAV docs](https://github.com/iNavFlight/inav/blob/master/docs/MixerProfile.md)

## Ez Tune

![INAV Ez Tune](https://quadmeup.com/assets/inav/inav_ez_tune.png)

## Timer DMA Burst

INAV 7 adds the DMA Burst mode to selected target as ultimately fixes the problem of DSHOT protocol not working on some boards. Pilots do not have to take any actions, DSHOT is just available on previously affected flight controllers. This applies to:

* Matek F405 TE
* SpeedyBee F405 V3

## JETI EXBUS fixed

The JETI EXBUS protocol should now not hang the flight controller during operation. The issue was originally fixed in https://github.com/betaflight/betaflight/pull/13130 . Thank you @SteveCEvans and @klutvott123

## Multirotor Cruise Mode

## NMEA Protocol no longer available

As mentioned in the `Important Notes` section, INAV 7 no longer supports the GPS NMEA protocol. All modern GPS module support one of the UBLOX protocols and as a result pilots must switch to either `UBLOX` or `UBLOX7` protocol.

## GPS Improvements

A number of improvements have been made to GPS support in INAV 7.

It is now possible to select multiple GPS constellations, and not only Galileo. If your GPS modules does not support a particular combination, it will fallback to no extra constellations.

M10 GPS units will now default to 10Hz, like M8 units and a new cli setting has been added to allow overriding the update rate (`gps_ublox_nav_hz`) if you would like to fall back to 5Hz or bump it up to the limits of what is supported by your ublox GPS module. 

![INAV GPS Improvements](https://quadmeup.com/assets/inav/inav_gps_improvements.png)

## MSP VTX support

INAV now support MSP VTX when using MSP DisplayPort OSD.

Now it is possible to change VTX power levels and channels via INAV's OSD menu or ELRS backpack without connecting the SmartAudio wire on HD-Zero VTXs.

If you MSP DisplayPort OSD is working, no extra configuration is needed.

### Other changes

* The `AUTOLEVEL` mode is renamed to `AUTO LEVEL TRIM`

### Other removed functions

* FrSky D-series telemetry
* `output_mode` setting that allows to reassign all PWM outputs to either MOTORS or SERVOS

# New targets

* SDmodel H7V1
* Matek H743HD
* SpeedyBee F405 V4
* SpeedeBee F405 Mini
* SpeedyBee F2 Mini V2
* GEPRCF405
* GEPRCF722
* NEUTRONRC F435 Mini AIO

# CLI

## Changed settings

| Name | Description |
| ---- | ------ |
| gps_provider | Removed: `NMEA` |
| gps_sbas_mode | New: `SPAN` |
| nav_rth_alt_mode | Removed: `AT_LEAST_LINEAR_DESCENT` |
| pitot_hardware | New: `DLVR-L10D` |

## New Items

| Name | Description |
| ---- | ------ |
| ez_aggressiveness | EzTune aggressiveness Values: 0 - 200 Default: 100 |
| ez_axis_ratio | EzTune axis ratio Values: 25 - 175 Default: 110 |
| ez_damping | EzTune damping Values: 0 - 200 Default: 100 |
| ez_enabled | Enables EzTune feature Default: FALSE |
| ez_expo | EzTune expo Values: 0 - 200 Default: 100 |
| ez_filter_hz | EzTune filter cutoff frequency Values: 10 - 300 Default: 110 |
| ez_rate | EzTune rate Values: 0 - 200 Default: 100 |
| ez_response | EzTune response Values: 0 - 200 Default: 100 |
| ez_stability | EzTune stability Values: 0 - 200 Default: 100 |
| gps_auto_baud_max_supported | Max baudrate supported by GPS unit. This is used during autobaud. M8 supports up to 460400, M10 supports up to 921600 and 230400 is the value used before INAV 7.0 Default: 230400 |
| gps_ublox_nav_hz | Navigation update rate for UBLOX7 receivers. Some receivers may limit the maximum number of satellites tracked when set to a higher rate or even stop sending navigation updates if the value is too high. Some M10 devices can do up to 25Hz. 10 is a safe value for M8 and newer. Values: 5 - 200 Default: 10 |
| gps_ublox_use_beidou | Enable use of Beidou satellites. This is at the expense of other regional constellations, so benefit may also be regional. Requires gps hardware support [OFF/ON]. Default: FALSE |
| gps_ublox_use_glonass | Enable use of Glonass satellites. This is at the expense of other regional constellations, so benefit may also be regional. Requires gps haardware support [OFF/ON]. Default: FALSE |
| led_pin_pwm_mode | PWM mode of LED pin. Values: `SHARED_LOW`, `SHARED_HIGH`, `LOW`, `HIGH`. Default: `SHARED_LOW` |
| mixer_automated_switch | If set to on, This mixer_profile will try to switch to another mixer_profile when 1.RTH heading home is requested and distance to home is lager than 3*nav_fw_loiter_radius on mixer_profile is a MULTIROTOR or TRICOPTER platform_type. 2. RTH landing is requested on this mixer_profile is a AIRPLANE platform_type Default: FALSE |
| mixer_pid_profile_linking | If enabled, pid profile_index will follow mixer_profile index. Set to OFF(default) if you want to handle PID profile by your self. Recommend to set to ON on all mixer_profiles to let the mixer_profile handle the PID profile switching on a VTOL or mixed platform type setup. Default: FALSE |
| mixer_switch_trans_timer | If switch another mixer_profile is scheduled by mixer_automated_switch or mixer_automated_switch. Activate Mixertransion motor/servo mixing for this many decisecond(0.1s) before the actual mixer_profile switch. Values: 0 - 200 Default: 0 |
| motorstop_on_low | If enabled, motor will stop when throttle is low on this mixer_profile Default: FALSE |
| nav_cruise_yaw_rate | Max YAW rate when NAV COURSE HOLD/CRUISE mode is enabled. Set to 0 to disable on fixed wing (Note: On multirotor setting to 0 will disable Course Hold/Cruise mode completely) [dps] Values: 0 - 120 Default: 20 |
| nav_landing_bump_detection | Allows immediate landing detection based on G bump at touchdown when set to ON. Requires a barometer and currently only works for multirotors. Default: FALSE |
| nav_mc_althold_throttle | If set to STICK the FC remembers the throttle stick position when enabling ALTHOLD and treats it as the neutral midpoint for holding altitude. If set to MID_STICK or HOVER the neutral midpoint is set to the mid stick position or the hover throttle position respectively. Default: STICK |
| nav_rth_linear_descent_start_distance | The distance [m] away from home to start the linear descent. 0 = immediately (original linear descent behaviour) Values: 0 - 10000 Default: 0 |
| nav_rth_use_linear_descent | If enabled, the aircraft will gradually descent to the nav_rth_home_altitude en route. The distance from home to start the descent can be set with `nav_rth_linear_descent_start_distance`. Default: FALSE |
| osd_arm_screen_display_time | Amount of time to display the arm screen [ms] Values: 1000 - 5000 Default: 1500 |
| osd_inav_to_pilot_logo_spacing | The space between the INAV and pilot logos, if `osd_use_pilot_logo` is `ON`. This number may be adjusted so that it fits the odd/even col width displays. For example, if using an odd column width display, such as Walksnail, and this is set to 4. 1 will be added so that the logos are equally spaced from the centre of the screen. Values: 0 - 20 Default: 8 |
| osd_joystick_down | PWM value for DOWN key Values: 0 - 100 Default: 0 |
| osd_joystick_enabled | Enable OSD Joystick emulation Default: FALSE |
| osd_joystick_enter | PWM value for ENTER key Values: 0 - 100 Default: 75 |
| osd_joystick_left | PWM value for LEFT key Values: 0 - 100 Default: 63 |
| osd_joystick_right | PWM value for RIGHT key Values: 0 - 100 Default: 28 |
| osd_joystick_up | PWM value for UP key Values: 0 - 100 Default: 48 |
| osd_mah_precision | Number of digits used for mAh precision. Currently used by mAh Used and Battery Remaining Capacity Values: 4 - 6 Default: 4 |
| osd_use_pilot_logo | Use custom pilot logo with/instead of the INAV logo. The pilot logo must be characters 473 to 511 Default: FALSE |
| pid_iterm_limit_percent | Limits max/min I-term value in stabilization PID controller. It solves the problem of servo saturation before take-off/throwing the airplane into the air. Or multirotors with low authority. By default, error accumulated in I-term can not exceed 33% of total pid throw (around 165us on deafult pidsum_limit of pitch/roll). Set 0 to disable completely. Values: 0 - 200 Default: 33 |
| tpa_on_yaw | Throttle PID attenuation also reduces influence on YAW for multi-rotor, Should be set to ON for tilting rotors. Default: FALSE |

## Removed Items

| Name | Description |
| ---- | ------ |
| dterm_lpf2_hz |  |
| dterm_lpf2_type |  |
| frsky_coordinates_format |  |
| frsky_default_latitude |  |
| frsky_default_longitude |  |
| frsky_unit |  |
| frsky_vfas_precision |  |
| fw_iterm_throw_limit |  |
| moron_threshold |  |
| nav_fw_cruise_yaw_rate |  |
| nav_use_midthr_for_althold |  |
| osd_mah_used_precision |  |
| output_mode |  |

# Changelist

The full list of changes is available [here](https://github.com/iNavFlight/inav/pulls?q=is%3Apr+milestone%3A7.0+is%3Aclosed)
The full list of INAV Configurator changes is available [here](https://github.com/iNavFlight/inav-configurator/pulls?q=is%3Apr+milestone%3A7.0+is%3Aclosed)

## What's Changed from INAV 6.1.1
