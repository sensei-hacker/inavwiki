![INAV 5 Ballistic Buzzard](https://quadmeup.com/assets/winged-inav.png)

# Hello and welcome to INAV 5.0 "Ballistic Buzzard"

Please carefully read all of this document for the best possible experience and safety.

Get in touch with other pilots, share experiences, suggestions and ask for help on:

<table>
  <body>
<tr>
<td><img width="48" src="https://discord.com/assets/f9bb9c4af2b9c32a2c5ee0014661546d.png"></td>
<td><a href="https://discord.gg/peg2hhbYwN" target="_blank">INAV Discord Server</a></td>
</tr>
    <tr>
      <td><img src="https://upload.wikimedia.org/wikipedia/commons/c/cd/Facebook_logo_%28square%29.png" width="48"></td>
      <td><a href="https://www.facebook.com/groups/INAVOfficial">INAV Official on Facebook</a></td>
    </tr>
  </tbody>
</table>

Please continue to support developers, for free, by checking out the following stores after having clicked on the following links:

<table>
  <tbody>
    <tr>
      <td><img src="https://lh3.googleusercontent.com/TiHXyUiZ2COk7OmceBgo1qeRN2APAjWL5qUydGc-U3LqkJb3n13EhYEJ8Dpz_IACNHU" width="55"></td>
      <td><a href="https://inavflight.com/shop/u/bg">Support us on Banggood</a></td>
    </tr>
  </tbody>
</table>

Your contribution from the past month has been very welcome! Thanks!

Tested and suggested hardware can be found [here](https://github.com/iNavFlight/inav/wiki/Welcome-to-INAV,-useful-links-and-products)

# Important Notes

## PCA9685 PWM driver no longer supported

The I2C PCA9685 servo driver is no longer supported as obsolete and not widely adopted. All PCA9685 setups are advised to upgrade to **SBUS** output and `SBUS to PWM` decoders

## Gyro and Acc alignment settings removed

The `align_acc` and `align_gyro` settings are removed. Gyro/Acc orientation should always be set with `align_board_yaw`

## GPS Glitch Detection

The `NAV_GPS_GLITCH_DETECTION` was removed as not suitable for modern aircraft. There is no user action required

## Removal of depreciated MSP frames

INAV 5 removed the support for the following MSP frames:
* `MSP_IDENT`
* `MSP_PID`
* `MSP_PID_CONTROLLER`
* `MSP_BF_CONFIG`
* `MSP_BF_BUILD_INFO`
* `MSP_SET_PID_CONTROLLER`
* `MSP_SET_PID`
* `MSP_SET_BF_CONFIG`
* `MSP_CF_SERIAL_CONFIG`
* `MSP_SET_CF_SERIAL_CONFIG`

No user action is required in the case of the INAV Configurator. In the case of 3rd party INAV configuration apps, this change might break the compatibility if the app was using any of those frames. `SpeedyBee` developers have been notified, other apps have to adjust accordingly.

# Upgrading from a previous release

## Upgrading from INAV 4 and 4.1

0. Download and install the new [configurator](https://github.com/iNavFlight/inav-configurator/releases)
1. Save to a file the current _diff all_ from the CLI.
2. Upgrade to INAV 5.0 using the Full Erase option in the configurator.
3. Upload your OSD font of choice from the OSD tab.
4. Go to the CLI again and paste the above-described contents from the file you previously created and write _save_ , press ENTER.
5. There are a large number of new, changed, and removed settings. Check carefully that the settings are correct and fix any unrecognized or out-of-range items from the saved configuration.
6. You should be ready, explore new 5.0 features, and enjoy!

## Upgrading from older versions

Please follow the instructions on [this](https://github.com/iNavFlight/inav/wiki/Upgrading-from-an-older-version-of-INAV-to-the-current-version) page.

# Important changes

## Configurable outputs mode

INAV allows changing the function assignment of **ALL** PWM outputs. Bear in mind, that it's not resource mapping! This function allows assigning all outputs as motors or all outputs as servos. It's driven by CLI `output_mode` setting

* `AUTO` assigns outputs according to the default mapping
* `SERVOS` assigns all outputs to servos
* `MOTORS` assigns all outputs to motors

# New targets

* Holybro Kakute H7 Mini **KAKUTEH7MINI**
* Diatone Mamba F405_2022A **MAMBAF405_2022A**
* Diatone Mamba F722_2022A **MAMBAF722_2022A**
* Mateksys F411TE **MATEKF411TE**
* Mateksys F405TE **MATEKF405TE** and **MATEKF405TE_SD**
* Foxeer F745 AIO **FOXEERF745AIO**
* AOCODARCF7DUAL

# Changelist

* Add FOXEER F745 AIO Target by @giacomo892 in https://github.com/iNavFlight/inav/pull/7764
* Update Battery.md by @MrD-RC in https://github.com/iNavFlight/inav/pull/7800
* Added some comparative operations to Programming by @MrD-RC in https://github.com/iNavFlight/inav/pull/7803
* [fc_core.c] Make use of macro US2S by @JulioCesarMatias in https://github.com/iNavFlight/inav/pull/7777
* Fix compilation when USE_SECONDARY_IMU not defined by @mluessi in https://github.com/iNavFlight/inav/pull/7770
* Change Power to Square by @JulioCesarMatias in https://github.com/iNavFlight/inav/pull/7727
* Mode availability improvements by @breadoven in https://github.com/iNavFlight/inav/pull/7694
* Battery cells in logic condition by @kernel-machine in https://github.com/iNavFlight/inav/pull/7814
* Add macros to multicopter land detector by @JulioCesarMatias in https://github.com/iNavFlight/inav/pull/7768
* [maths.h] Add Macro to convert Celsius to Kelvin by @JulioCesarMatias in https://github.com/iNavFlight/inav/pull/7767
* Remove duplicate semicolon by @JulioCesarMatias in https://github.com/iNavFlight/inav/pull/7806
* Release 4.1 by @DzikuVx in https://github.com/iNavFlight/inav/pull/7681
* Reversible ESC's for rovers: Don't start motor with high throttle in the mid of the stick by @yajo10 in https://github.com/iNavFlight/inav/pull/7714
* [cli.c] Fix external Flash Memory by @JulioCesarMatias in https://github.com/iNavFlight/inav/pull/7695
* System message variable display time + setting option by @breadoven in https://github.com/iNavFlight/inav/pull/6850
* [gyro.c] An option to not calibrate the gyro during boot by @JulioCesarMatias in https://github.com/iNavFlight/inav/pull/7624
* WP mission waypoint enforce altitude option by @breadoven in https://github.com/iNavFlight/inav/pull/7644
* SpeedyBeeF7 No led strip #7234 by @andreapede in https://github.com/iNavFlight/inav/pull/7753
* Crsf power states redo by @OptimusTi in https://github.com/iNavFlight/inav/pull/7811
* Docker build script shebang fix and extended usage notes by @krasiyan in https://github.com/iNavFlight/inav/pull/7793
* Add ADC3 support on H7 by @dawr68 in https://github.com/iNavFlight/inav/pull/7824
* Add support for Omron 2SMPB-02B barometer by @mluessi in https://github.com/iNavFlight/inav/pull/7755
* Omnibus F7.md - mention OMNIBUSF7NXT by @MorrisR2 in https://github.com/iNavFlight/inav/pull/7751
* [maths.c] Add 2D and 3D Pythagorean functions by @JulioCesarMatias in https://github.com/iNavFlight/inav/pull/7746
* Dzikuvx depreciated MSP frames by @DzikuVx in https://github.com/iNavFlight/inav/pull/7854
* Update AUTHORS by @MrD-RC in https://github.com/iNavFlight/inav/pull/7848
* Add ability to adjust LED Strip color with RC channel by @jeffhendrix in https://github.com/iNavFlight/inav/pull/7618
* Drop MSP_CF_SERIAL_CONFIG and MSP_SET_CF_SERIAL_CONFIG frames by @DzikuVx in https://github.com/iNavFlight/inav/pull/7852
* Add macros to active box and reset boxes count by @DzikuVx in https://github.com/iNavFlight/inav/pull/7844
* Fix ins_gravity_cmss out of range error by @DzikuVx in https://github.com/iNavFlight/inav/pull/7859
* [navigation for multirotor] Sqrt Controller for Alt-Hold and improvements by @DzikuVx in https://github.com/iNavFlight/inav/pull/7845
* BMI270: Fix acc alignment by @mluessi in https://github.com/iNavFlight/inav/pull/7769
* update Cli.md for 4.1/5.0 usage by @stronnag in https://github.com/iNavFlight/inav/pull/7870
* [navigation.c] Replace the position estimate check by @JulioCesarMatias in https://github.com/iNavFlight/inav/pull/7698
* Nav launch abort improvements by @breadoven in https://github.com/iNavFlight/inav/pull/7642
* Landing detection revamp by @breadoven in https://github.com/iNavFlight/inav/pull/7270
* apply stricter payload size checks by @stronnag in https://github.com/iNavFlight/inav/pull/7891
* Adjust CMS and statistics page layout for HD OSD by @geoffsim in https://github.com/iNavFlight/inav/pull/7871
* Blackbox fields selection on GUI by @kernel-machine in https://github.com/iNavFlight/inav/pull/7896
* Add support to BMI270 for IFLIGHT BLITZ F722 by @Guidus93 in https://github.com/iNavFlight/inav/pull/7890
* Update to the Telemetry.md docs by @DzikuVx in https://github.com/iNavFlight/inav/pull/7903
* Remove "USE_NAV" define by @breadoven in https://github.com/iNavFlight/inav/pull/7909
* remove NAV_GPS_GLITCH_DETECTION by @stronnag in https://github.com/iNavFlight/inav/pull/7907
* Add LANDING debug by @breadoven in https://github.com/iNavFlight/inav/pull/7904
* update target hardware platforms for 4.1 by @stronnag in https://github.com/iNavFlight/inav/pull/7912
* RTH sanity checking emergency landing fix by @breadoven in https://github.com/iNavFlight/inav/pull/7790
* Replace Sqrt Initialization by @JulioCesarMatias in https://github.com/iNavFlight/inav/pull/7925
* Add BMI270 to HGLRCF722 by @DzikuVx in https://github.com/iNavFlight/inav/pull/7939
* Configurable outputs mode by @DzikuVx in https://github.com/iNavFlight/inav/pull/7928
* document use of `ninja` as build manager by @stronnag in https://github.com/iNavFlight/inav/pull/7942
* Update Blackbox.md by @Dope-johnny in https://github.com/iNavFlight/inav/pull/7943
* serial: fix compile error when both GPS_UART and SMARTAUDIO_UART are defined by @snaewe in https://github.com/iNavFlight/inav/pull/7911
* Hardware Debugging from VSCode and WSL manual by @erstec in https://github.com/iNavFlight/inav/pull/7945
* Update Windows 11 - VS Code - WSL2 - Hardware Debugging.md by @erstec in https://github.com/iNavFlight/inav/pull/7946
* Update of project files by @erstec in https://github.com/iNavFlight/inav/pull/7951
* Ground test mode by @breadoven in https://github.com/iNavFlight/inav/pull/7921
* RTH sanity checking safehome fix by @breadoven in https://github.com/iNavFlight/inav/pull/7917
* Hardware Debugging in Visual Studio Code and WSL (Method 2) by @Scavanger in https://github.com/iNavFlight/inav/pull/7950
* BLE Support  by @Scavanger in https://github.com/iNavFlight/inav/pull/7931
* Added missing notes by @MrD-RC in https://github.com/iNavFlight/inav/pull/7966
* Enable MPU6500 on MambaF722_I2C by @DzikuVx in https://github.com/iNavFlight/inav/pull/7965
* Re-fix for up/down arrows of the relative altitude (ESP32 radar) by @OlivierC-FR in https://github.com/iNavFlight/inav/pull/7914
* MAMBAF722_2022A target by @DzikuVx in https://github.com/iNavFlight/inav/pull/7968
* MAMBAF405_2022A target by @DzikuVx in https://github.com/iNavFlight/inav/pull/7970
* Allow Flight Axis stabilization targets from Logic Conditions  by @DzikuVx in https://github.com/iNavFlight/inav/pull/7964
* Add switch position indicators to the OSD by @MrD-RC in https://github.com/iNavFlight/inav/pull/7734
* Add MatekF411TE Target by @MATEKSYS in https://github.com/iNavFlight/inav/pull/7947
* Add MatekF405TE and MatekF405TE_SD Targets by @MATEKSYS in https://github.com/iNavFlight/inav/pull/7924
* Fixing the missing commands to ESC by @Odin263 in https://github.com/iNavFlight/inav/pull/7733
* Add ICM42688p in MatekH743 by @MATEKSYS in https://github.com/iNavFlight/inav/pull/7974
* update Telemetry.md by @stronnag in https://github.com/iNavFlight/inav/pull/7978
* Update Programming Framework.md by @Jullibach in https://github.com/iNavFlight/inav/pull/7980
* Fix for MambaH743 DMA assignment by @DzikuVx in https://github.com/iNavFlight/inav/pull/7989
* Fix KakuteH7 DMA ADC/LED Conflict by @DzikuVx in https://github.com/iNavFlight/inav/pull/7990
* TMOTORF7V2 BlackBox fix by @erstec in https://github.com/iNavFlight/inav/pull/7955
* VTX SoftSerial StopBit Time by @erstec in https://github.com/iNavFlight/inav/pull/7969
* Change fallback ESC protocol to Multishot when DSHOT is not available by @DzikuVx in https://github.com/iNavFlight/inav/pull/7977
* Docs update by @DzikuVx in https://github.com/iNavFlight/inav/pull/7992
* Failsafe RC adjustment bug fix by @breadoven in https://github.com/iNavFlight/inav/pull/7829
* Target output mapping update by @DzikuVx in https://github.com/iNavFlight/inav/pull/7993
* [DOC] update Development.md building / running unit tests by @stronnag in https://github.com/iNavFlight/inav/pull/7997
* Add new target AOCODARCF7DUAL by @dlt2018 in https://github.com/iNavFlight/inav/pull/7994
* Matek 1G3SE control via IRC Tramp by @MrD-RC in https://github.com/iNavFlight/inav/pull/7949
* ESP32 Radar: Added support for missing OSD unit types by @MrD-RC in https://github.com/iNavFlight/inav/pull/7972
* Enhance mAh Used OSD Element by @MrD-RC in https://github.com/iNavFlight/inav/pull/7868
* New target JHEMCU GH743AIO / iFlight Beast H7 55A AIO by @dawr68 in https://github.com/iNavFlight/inav/pull/7889
* iFlight Beast H7 V2 I2C2 on UART 3 by @ltwin8 in https://github.com/iNavFlight/inav/pull/7962
* Dzikuvx add rangefinder to logic conditions by @DzikuVx in https://github.com/iNavFlight/inav/pull/7984
* Docs update by @DzikuVx in https://github.com/iNavFlight/inav/pull/8013
* Pitot Tube:Add, Move and Rename macros by @JulioCesarMatias in https://github.com/iNavFlight/inav/pull/8011
* Drop gyro and acc alignment settings by @DzikuVx in https://github.com/iNavFlight/inav/pull/8016
* TBS Sixty9 SA2.1 UART Configuration by @erstec in https://github.com/iNavFlight/inav/pull/7985
* Increase Logic Conditions to 64 by @MrD-RC in https://github.com/iNavFlight/inav/pull/8022
* Added Fixed Wing TPA Time Constant to in flight adjustments by @MrD-RC in https://github.com/iNavFlight/inav/pull/8023
* Update dynamic_gyro_notch_min_hz range by @DzikuVx in https://github.com/iNavFlight/inav/pull/8021
* Update VTx.md by @erstec in https://github.com/iNavFlight/inav/pull/8030
* Drop PCA9685 support by @DzikuVx in https://github.com/iNavFlight/inav/pull/8032
* Added FW level trim to in flight adjustments by @MrD-RC in https://github.com/iNavFlight/inav/pull/8028
* Kakute H7 Mini target by @DzikuVx in https://github.com/iNavFlight/inav/pull/8033
* Add Pos Control Jerk Limit Macro by @JulioCesarMatias in https://github.com/iNavFlight/inav/pull/8038
* Update PG version for logic conditions by @MrD-RC in https://github.com/iNavFlight/inav/pull/8039
* [DOC] minor updates to Blackbox.md by @stronnag in https://github.com/iNavFlight/inav/pull/8040
* Add detail to airspeed sensor data by @MrD-RC in https://github.com/iNavFlight/inav/pull/8043

# New Contributors
* @yajo10 made their first contribution in https://github.com/iNavFlight/inav/pull/7714
* @andreapede made their first contribution in https://github.com/iNavFlight/inav/pull/7753
* @krasiyan made their first contribution in https://github.com/iNavFlight/inav/pull/7793
* @dawr68 made their first contribution in https://github.com/iNavFlight/inav/pull/7824
* @Guidus93 made their first contribution in https://github.com/iNavFlight/inav/pull/7890
* @Dope-johnny made their first contribution in https://github.com/iNavFlight/inav/pull/7943
* @Odin263 made their first contribution in https://github.com/iNavFlight/inav/pull/7733
* @Jullibach made their first contribution in https://github.com/iNavFlight/inav/pull/7980
* @dlt2018 made their first contribution in https://github.com/iNavFlight/inav/pull/7994
* @ltwin8 made their first contribution in https://github.com/iNavFlight/inav/pull/7962

The full list of changes is available [here](https://github.com/iNavFlight/inav/pulls?q=is%3Apr+milestone%3A5.0+is%3Aclosed)
The full list of INAV Configurator changes is available [here](https://github.com/iNavFlight/inav-configurator/pulls?q=is%3Apr+milestone%3A5.0+is%3Aclosed)